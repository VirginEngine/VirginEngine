{"ast":null,"code":"const setData = data => {\n  const {\n    editor,\n    files\n  } = window;\n\n  // Clean Object\n  for (const key in files) {\n    delete files[key];\n  }\n\n  // Files\n  for (const key in data) {\n    files[key] = data[key];\n  }\n  editor.setUp = true;\n  editor.reload();\n};\nexport const load = () => {\n  const plikInput = document.createElement(`input`);\n  plikInput.type = `file`;\n  plikInput.accept = `.deathengine`;\n  plikInput.addEventListener(`change`, ({\n    target\n  }) => {\n    const [file] = target.files;\n    const reader = new FileReader();\n    reader.onload = ({\n      target\n    }) => {\n      const {\n        result\n      } = target;\n      const data = JSON.parse(result);\n      console.log(data);\n      setData(data);\n    };\n    reader.readAsText(file);\n  });\n  plikInput.click();\n};","map":{"version":3,"names":["setData","data","editor","files","window","key","setUp","reload","load","plikInput","document","createElement","type","accept","addEventListener","target","file","reader","FileReader","onload","result","JSON","parse","console","log","readAsText","click"],"sources":["/home/jakub/projects/git/deathengine/src/loadData/load.js"],"sourcesContent":["const setData = (data) => {\n  const { editor, files } = window\n\n  // Clean Object\n  for(const key in files) {\n    delete files[key]\n  }\n\n  // Files\n  for(const key in data) {\n    files[key] = data[key]\n  }\n\n  editor.setUp = true\n  editor.reload()\n}\n\nexport const load = () => {\n  const plikInput = document.createElement(`input`)\n  plikInput.type = `file`\n  plikInput.accept = `.deathengine`\n\n  plikInput.addEventListener(`change`, ({ target }) => {\n    const [file] = target.files\n    const reader = new FileReader()\n\n    reader.onload = ({ target }) => {\n      const { result } = target\n\n      const data = JSON.parse(result)\n      console.log(data)\n\n      setData(data)\n    }\n\n    reader.readAsText(file)\n  })\n\n  plikInput.click()\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAIC,IAAI,IAAK;EACxB,MAAM;IAAEC,MAAM;IAAEC;EAAM,CAAC,GAAGC,MAAM;;EAEhC;EACA,KAAI,MAAMC,GAAG,IAAIF,KAAK,EAAE;IACtB,OAAOA,KAAK,CAACE,GAAG,CAAC;EACnB;;EAEA;EACA,KAAI,MAAMA,GAAG,IAAIJ,IAAI,EAAE;IACrBE,KAAK,CAACE,GAAG,CAAC,GAAGJ,IAAI,CAACI,GAAG,CAAC;EACxB;EAEAH,MAAM,CAACI,KAAK,GAAG,IAAI;EACnBJ,MAAM,CAACK,MAAM,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMC,IAAI,GAAGA,CAAA,KAAM;EACxB,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EACjDF,SAAS,CAACG,IAAI,GAAG,MAAM;EACvBH,SAAS,CAACI,MAAM,GAAG,cAAc;EAEjCJ,SAAS,CAACK,gBAAgB,CAAC,QAAQ,EAAE,CAAC;IAAEC;EAAO,CAAC,KAAK;IACnD,MAAM,CAACC,IAAI,CAAC,GAAGD,MAAM,CAACZ,KAAK;IAC3B,MAAMc,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAE/BD,MAAM,CAACE,MAAM,GAAG,CAAC;MAAEJ;IAAO,CAAC,KAAK;MAC9B,MAAM;QAAEK;MAAO,CAAC,GAAGL,MAAM;MAEzB,MAAMd,IAAI,GAAGoB,IAAI,CAACC,KAAK,CAACF,MAAM,CAAC;MAC/BG,OAAO,CAACC,GAAG,CAACvB,IAAI,CAAC;MAEjBD,OAAO,CAACC,IAAI,CAAC;IACf,CAAC;IAEDgB,MAAM,CAACQ,UAAU,CAACT,IAAI,CAAC;EACzB,CAAC,CAAC;EAEFP,SAAS,CAACiB,KAAK,CAAC,CAAC;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}