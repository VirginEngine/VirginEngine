{"ast":null,"code":"import{config,editor,files,scenes}from\"../../data\";const creanObj=obj=>{for(const key in obj){delete obj[key];}};const setData=data=>{// Config\ncreanObj(config);for(const key in data.config){config[key]=data.config[key];}// Files\ncreanObj(files);for(const key in data.files){files[key]=data.files[key];}// Scenes\ncreanObj(scenes);for(const key in data.scenes){scenes[key]=data.scenes[key];}editor.setUp=true;editor.reload();};export const load=()=>{const plikInput=document.createElement(`input`);plikInput.type=`file`;plikInput.accept=`.deathengine`;plikInput.addEventListener(\"change\",function(){const file=this.files[0];const reader=new FileReader();reader.onload=_ref=>{let{target}=_ref;const jsonFile=target.result;const data=JSON.parse(jsonFile);console.log(data);setData(data);};reader.readAsText(file);});plikInput.click();};","map":{"version":3,"names":["config","editor","files","scenes","creanObj","obj","key","setData","data","setUp","reload","load","plikInput","document","createElement","type","accept","addEventListener","file","reader","FileReader","onload","_ref","target","jsonFile","result","JSON","parse","console","log","readAsText","click"],"sources":["/workspaces/deathengine/src/routes/loadData/load.js"],"sourcesContent":["import { config, editor, files, scenes } from \"../../data\"\n\nconst creanObj = (obj) => {\n  for(const key in obj) {\n    delete obj[key]\n  }\n}\n\nconst setData = (data) => {\n  // Config\n  creanObj(config)\n  for(const key in data.config) {\n    config[key] = data.config[key]\n  }\n\n  // Files\n  creanObj(files)\n  for(const key in data.files) {\n    files[key] = data.files[key]\n  }\n\n  // Scenes\n  creanObj(scenes)\n  for(const key in data.scenes) {\n    scenes[key] = data.scenes[key]\n  }\n\n  editor.setUp = true\n  editor.reload()\n}\n\nexport const load = () => {\n  const plikInput = document.createElement(`input`)\n  plikInput.type = `file`\n  plikInput.accept = `.deathengine`\n\n  plikInput.addEventListener(\"change\", function() {\n    const file = this.files[0]\n    const reader = new FileReader()\n\n    reader.onload = ({ target }) => {\n      const jsonFile = target.result\n\n      const data = JSON.parse(jsonFile)\n      console.log(data)\n\n      setData(data)\n    }\n\n    reader.readAsText(file)\n  })\n\n  plikInput.click()\n}"],"mappings":"AAAA,OAASA,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAQ,YAAY,CAE1D,KAAM,CAAAC,QAAQ,CAAIC,GAAG,EAAK,CACxB,IAAI,KAAM,CAAAC,GAAG,GAAI,CAAAD,GAAG,CAAE,CACpB,MAAO,CAAAA,GAAG,CAACC,GAAG,CAAC,CACjB,CACF,CAAC,CAED,KAAM,CAAAC,OAAO,CAAIC,IAAI,EAAK,CACxB;AACAJ,QAAQ,CAACJ,MAAM,CAAC,CAChB,IAAI,KAAM,CAAAM,GAAG,GAAI,CAAAE,IAAI,CAACR,MAAM,CAAE,CAC5BA,MAAM,CAACM,GAAG,CAAC,CAAGE,IAAI,CAACR,MAAM,CAACM,GAAG,CAAC,CAChC,CAEA;AACAF,QAAQ,CAACF,KAAK,CAAC,CACf,IAAI,KAAM,CAAAI,GAAG,GAAI,CAAAE,IAAI,CAACN,KAAK,CAAE,CAC3BA,KAAK,CAACI,GAAG,CAAC,CAAGE,IAAI,CAACN,KAAK,CAACI,GAAG,CAAC,CAC9B,CAEA;AACAF,QAAQ,CAACD,MAAM,CAAC,CAChB,IAAI,KAAM,CAAAG,GAAG,GAAI,CAAAE,IAAI,CAACL,MAAM,CAAE,CAC5BA,MAAM,CAACG,GAAG,CAAC,CAAGE,IAAI,CAACL,MAAM,CAACG,GAAG,CAAC,CAChC,CAEAL,MAAM,CAACQ,KAAK,CAAG,IAAI,CACnBR,MAAM,CAACS,MAAM,CAAC,CAAC,CACjB,CAAC,CAED,MAAO,MAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CACjDF,SAAS,CAACG,IAAI,CAAG,MAAM,CACvBH,SAAS,CAACI,MAAM,CAAG,cAAc,CAEjCJ,SAAS,CAACK,gBAAgB,CAAC,QAAQ,CAAE,UAAW,CAC9C,KAAM,CAAAC,IAAI,CAAG,IAAI,CAAChB,KAAK,CAAC,CAAC,CAAC,CAC1B,KAAM,CAAAiB,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAE/BD,MAAM,CAACE,MAAM,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CACzB,KAAM,CAAAE,QAAQ,CAAGD,MAAM,CAACE,MAAM,CAE9B,KAAM,CAAAjB,IAAI,CAAGkB,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,CACjCI,OAAO,CAACC,GAAG,CAACrB,IAAI,CAAC,CAEjBD,OAAO,CAACC,IAAI,CAAC,CACf,CAAC,CAEDW,MAAM,CAACW,UAAU,CAACZ,IAAI,CAAC,CACzB,CAAC,CAAC,CAEFN,SAAS,CAACmB,KAAK,CAAC,CAAC,CACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}