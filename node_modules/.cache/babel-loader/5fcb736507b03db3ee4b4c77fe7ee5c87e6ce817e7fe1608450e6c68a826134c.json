{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const NameInput=()=>{const[[text,cb],setNameInput]=useState([]);const ref=useRef();const ret=()=>{if(text!==``){cb(text);}setNameInput([]);};// eslint-disable-next-line\nuseEffect(()=>{window.editor.setNameInput=setNameInput;const handler=_ref=>{let{target}=_ref;if(ref.current){if(!ref.current.contains(target)){ret();}}};document.addEventListener(`mousedown`,handler);return()=>{document.removeEventListener(`mousedown`,handler);};});return/*#__PURE__*/_jsx(\"div\",{children:cb&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:ref,autoFocus:true,style:{position:`absolute`,left:`50vw`,top:`50vh`,transform:`translate(-50%, -50%)`,fontSize:40},value:text,onChange:_ref2=>{let{target}=_ref2;setNameInput([target.value,cb]);},onKeyDown:_ref3=>{let{key}=_ref3;if(key===`Enter`){ret();}}})});};","map":{"version":3,"names":["useEffect","useRef","useState","jsx","_jsx","NameInput","text","cb","setNameInput","ref","ret","window","editor","handler","_ref","target","current","contains","document","addEventListener","removeEventListener","children","type","autoFocus","style","position","left","top","transform","fontSize","value","onChange","_ref2","onKeyDown","_ref3","key"],"sources":["/workspaces/deathengine/src/editor/ui/NameInput.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\n\nexport const NameInput = () => {\n  const [[text, cb], setNameInput] = useState([])\n  const ref = useRef()\n\n  const ret = () => {\n    if(text !== ``) {\n      cb(text)\n    }\n    setNameInput([])\n  }\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    window.editor.setNameInput = setNameInput\n  \n    const handler = ({ target }) => {\n      if(ref.current) {\n        if(!ref.current.contains(target)) {\n          ret()\n        }\n      }\n    }\n\n    document.addEventListener(`mousedown`, handler)\n\n    return () => {\n      document.removeEventListener(`mousedown`, handler)\n    }\n  })\n\n  return <div>\n    {cb && <input\n      type=\"text\"\n      ref={ref}\n      autoFocus\n      style={{\n        position: `absolute`,\n        left: `50vw`,\n        top: `50vh`,\n        transform: `translate(-50%, -50%)`,\n        fontSize: 40\n      }}\n      value={text}\n      onChange={({ target }) => {\n        setNameInput([\n          target.value,\n          cb\n        ])\n      }}\n      onKeyDown={({ key }) => {\n        if(key === `Enter`) {\n          ret()\n        }\n      }}\n    />}\n  </div>\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEnD,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAC,CAACC,IAAI,CAAEC,EAAE,CAAC,CAAEC,YAAY,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CAC/C,KAAM,CAAAO,GAAG,CAAGR,MAAM,CAAC,CAAC,CAEpB,KAAM,CAAAS,GAAG,CAAGA,CAAA,GAAM,CAChB,GAAGJ,IAAI,GAAK,EAAE,CAAE,CACdC,EAAE,CAACD,IAAI,CAAC,CACV,CACAE,YAAY,CAAC,EAAE,CAAC,CAClB,CAAC,CAED;AACAR,SAAS,CAAC,IAAM,CACdW,MAAM,CAACC,MAAM,CAACJ,YAAY,CAAGA,YAAY,CAEzC,KAAM,CAAAK,OAAO,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CACzB,GAAGL,GAAG,CAACO,OAAO,CAAE,CACd,GAAG,CAACP,GAAG,CAACO,OAAO,CAACC,QAAQ,CAACF,MAAM,CAAC,CAAE,CAChCL,GAAG,CAAC,CAAC,CACP,CACF,CACF,CAAC,CAEDQ,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,OAAO,CAAC,CAE/C,MAAO,IAAM,CACXK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,OAAO,CAAC,CACpD,CAAC,CACH,CAAC,CAAC,CAEF,mBAAOT,IAAA,QAAAiB,QAAA,CACJd,EAAE,eAAIH,IAAA,UACLkB,IAAI,CAAC,MAAM,CACXb,GAAG,CAAEA,GAAI,CACTc,SAAS,MACTC,KAAK,CAAE,CACLC,QAAQ,CAAE,UAAU,CACpBC,IAAI,CAAE,MAAM,CACZC,GAAG,CAAE,MAAM,CACXC,SAAS,CAAE,uBAAuB,CAClCC,QAAQ,CAAE,EACZ,CAAE,CACFC,KAAK,CAAExB,IAAK,CACZyB,QAAQ,CAAEC,KAAA,EAAgB,IAAf,CAAEjB,MAAO,CAAC,CAAAiB,KAAA,CACnBxB,YAAY,CAAC,CACXO,MAAM,CAACe,KAAK,CACZvB,EAAE,CACH,CAAC,CACJ,CAAE,CACF0B,SAAS,CAAEC,KAAA,EAAa,IAAZ,CAAEC,GAAI,CAAC,CAAAD,KAAA,CACjB,GAAGC,GAAG,GAAK,OAAO,CAAE,CAClBzB,GAAG,CAAC,CAAC,CACP,CACF,CAAE,CACH,CAAC,CACC,CAAC,CACR,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}