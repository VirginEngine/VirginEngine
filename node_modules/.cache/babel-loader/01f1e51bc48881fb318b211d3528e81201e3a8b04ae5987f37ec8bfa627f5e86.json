{"ast":null,"code":"import { config, editor, files, scenes } from \"../../data\";\nconst creanObj = obj => {\n  for (const key in obj) {\n    delete obj[key];\n  }\n};\nconst setData = data => {\n  // Config\n  creanObj(config);\n  for (const key in data.config) {\n    config[key] = data.config[key];\n  }\n\n  // Files\n  creanObj(files);\n  for (const key in data.files) {\n    files[key] = data.files[key];\n  }\n\n  // Scenes\n  creanObj(scenes);\n  for (const key in data.scenes) {\n    scenes[key] = data.scenes[key];\n  }\n  editor.setUp = true;\n  editor.reload();\n};\nexport const load = () => {\n  const plikInput = document.createElement(`input`);\n  plikInput.type = `file`;\n  plikInput.accept = `.deathengine`;\n  plikInput.addEventListener(\"change\", function () {\n    const file = this.files[0];\n    const reader = new FileReader();\n    reader.onload = ({\n      target\n    }) => {\n      const jsonFile = target.result;\n      const data = JSON.parse(jsonFile);\n      console.log(data);\n      setData(data);\n    };\n    reader.readAsText(file);\n  });\n  plikInput.click();\n};","map":{"version":3,"names":["config","editor","files","scenes","creanObj","obj","key","setData","data","setUp","reload","load","plikInput","document","createElement","type","accept","addEventListener","file","reader","FileReader","onload","target","jsonFile","result","JSON","parse","console","log","readAsText","click"],"sources":["/home/jakub/projects/git/deathengine/src/loadData/load.js"],"sourcesContent":["import { config, editor, files, scenes } from \"../../data\"\n\nconst creanObj = (obj) => {\n  for(const key in obj) {\n    delete obj[key]\n  }\n}\n\nconst setData = (data) => {\n  // Config\n  creanObj(config)\n  for(const key in data.config) {\n    config[key] = data.config[key]\n  }\n\n  // Files\n  creanObj(files)\n  for(const key in data.files) {\n    files[key] = data.files[key]\n  }\n\n  // Scenes\n  creanObj(scenes)\n  for(const key in data.scenes) {\n    scenes[key] = data.scenes[key]\n  }\n\n  editor.setUp = true\n  editor.reload()\n}\n\nexport const load = () => {\n  const plikInput = document.createElement(`input`)\n  plikInput.type = `file`\n  plikInput.accept = `.deathengine`\n\n  plikInput.addEventListener(\"change\", function() {\n    const file = this.files[0]\n    const reader = new FileReader()\n\n    reader.onload = ({ target }) => {\n      const jsonFile = target.result\n\n      const data = JSON.parse(jsonFile)\n      console.log(data)\n\n      setData(data)\n    }\n\n    reader.readAsText(file)\n  })\n\n  plikInput.click()\n}"],"mappings":"AAAA,SAASA,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,QAAQ,YAAY;AAE1D,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EACxB,KAAI,MAAMC,GAAG,IAAID,GAAG,EAAE;IACpB,OAAOA,GAAG,CAACC,GAAG,CAAC;EACjB;AACF,CAAC;AAED,MAAMC,OAAO,GAAIC,IAAI,IAAK;EACxB;EACAJ,QAAQ,CAACJ,MAAM,CAAC;EAChB,KAAI,MAAMM,GAAG,IAAIE,IAAI,CAACR,MAAM,EAAE;IAC5BA,MAAM,CAACM,GAAG,CAAC,GAAGE,IAAI,CAACR,MAAM,CAACM,GAAG,CAAC;EAChC;;EAEA;EACAF,QAAQ,CAACF,KAAK,CAAC;EACf,KAAI,MAAMI,GAAG,IAAIE,IAAI,CAACN,KAAK,EAAE;IAC3BA,KAAK,CAACI,GAAG,CAAC,GAAGE,IAAI,CAACN,KAAK,CAACI,GAAG,CAAC;EAC9B;;EAEA;EACAF,QAAQ,CAACD,MAAM,CAAC;EAChB,KAAI,MAAMG,GAAG,IAAIE,IAAI,CAACL,MAAM,EAAE;IAC5BA,MAAM,CAACG,GAAG,CAAC,GAAGE,IAAI,CAACL,MAAM,CAACG,GAAG,CAAC;EAChC;EAEAL,MAAM,CAACQ,KAAK,GAAG,IAAI;EACnBR,MAAM,CAACS,MAAM,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMC,IAAI,GAAGA,CAAA,KAAM;EACxB,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EACjDF,SAAS,CAACG,IAAI,GAAG,MAAM;EACvBH,SAAS,CAACI,MAAM,GAAG,cAAc;EAEjCJ,SAAS,CAACK,gBAAgB,CAAC,QAAQ,EAAE,YAAW;IAC9C,MAAMC,IAAI,GAAG,IAAI,CAAChB,KAAK,CAAC,CAAC,CAAC;IAC1B,MAAMiB,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAE/BD,MAAM,CAACE,MAAM,GAAG,CAAC;MAAEC;IAAO,CAAC,KAAK;MAC9B,MAAMC,QAAQ,GAAGD,MAAM,CAACE,MAAM;MAE9B,MAAMhB,IAAI,GAAGiB,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC;MACjCI,OAAO,CAACC,GAAG,CAACpB,IAAI,CAAC;MAEjBD,OAAO,CAACC,IAAI,CAAC;IACf,CAAC;IAEDW,MAAM,CAACU,UAAU,CAACX,IAAI,CAAC;EACzB,CAAC,CAAC;EAEFN,SAAS,CAACkB,KAAK,CAAC,CAAC;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}